@import "tailwindcss";

/* 基本設定 */
@theme {
  --font-sans: "Inter Variable", "Noto Sans JP", "Hiragino Sans", "Hiragino Kaku Gothic ProN", "BIZ UDPGothic", Meiryo,
    sans-serif;
  --font-feature-settings: "palt" 1;
  --color-calendar-bg: #fffcf8;
  --color-calendar-hover-bg: #fff9f0;
  --color-calendar-text: #44403c; /* stone-700 */
  --color-calendar-border: var(--color-stone-200);
  --color-calendar-border-hover: var(--color-stone-300);
}

@layer components {
  /* カレンダー全体 */
  .calendar-container {
    @apply bg-calendar-bg rounded-md p-4 w-[320px] mx-auto;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.08), 0 8px 16px rgba(0, 0, 0, 0.04);
    background-image: linear-gradient(90deg, rgba(230, 230, 230, 0.05) 1px, transparent 1px),
      linear-gradient(rgba(230, 230, 230, 0.05) 1px, transparent 1px);
    background-size: 8px 8px;
  }

  /* レイアウト要素 */
  .calendar-header {
    @apply flex justify-center space-x-2 w-full;
  }
  .calendar-grid {
    @apply grid grid-cols-7;
  }
  .calendar-spacer {
    @apply flex items-center justify-center h-9;
  }

  /* 月・曜日ヘッダー */
  .calendar-month {
    @apply flex items-center justify-center h-9 text-base font-medium text-calendar-text;
  }
  .calendar-weekday {
    @apply flex items-center justify-center h-9 font-medium text-sm text-calendar-text;
  }

  /* 日付セル */
  .calendar-cell {
    @apply flex items-center justify-center h-9 px-1 rounded-md text-sm text-calendar-text 
           hover:bg-stone-50 transition-colors duration-200;
    box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.8);
  }

  /* セル状態変化 */
  .calendar-cell-today {
    @apply bg-emerald-50 font-bold;
  }
  .calendar-cell-first-of-month {
    @apply bg-sky-50;
  }
  .calendar-cell-holiday {
    @apply text-red-600;
  }
  .calendar-cell-past {
    @apply opacity-40;
  }

  /* ボタン */
  .calendar-button {
    @apply px-3 py-1.5 rounded-md h-9 bg-calendar-bg border border-calendar-border
           text-sm text-calendar-text hover:bg-calendar-hover-bg hover:border-stone-300
           transition-colors duration-200 shadow-sm;
  }

  /* Tooltip */
  .tooltip {
    @apply absolute whitespace-nowrap rounded bg-black px-2 py-1 text-white text-xs -translate-x-1/2
           before:absolute before:bottom-[-4px] before:left-1/2 before:border-4 
           before:border-transparent before:border-t-black before:content-[''] before:-translate-x-1/2;
  }

  /* 設定ダイアログ */
  .settings-button {
    @apply p-1.5 rounded-md flex items-center justify-center size-9
           bg-calendar-bg border border-calendar-border text-calendar-text
           hover:bg-calendar-hover-bg hover:border-stone-300
           transition-colors duration-200 shadow-sm;
  }

  .settings-dialog {
    @apply fixed inset-0 m-auto rounded-md border border-gray-200 p-0 shadow-xl backdrop:bg-black/50;
  }

  /* 設定フォーム */
  .settings-form {
    @apply w-72 bg-white p-4;
  }

  .settings-form-title {
    @apply mb-4 font-medium text-lg text-calendar-text;
  }

  .settings-form-section {
    @apply mb-4;
  }

  .settings-form-subtitle {
    @apply mb-2 font-medium text-sm text-calendar-text;
  }

  .settings-form-field-group {
    @apply flex items-center gap-3;
  }

  .settings-form-label {
    @apply mb-1 block font-medium text-xs text-calendar-text;
  }

  .settings-form-input {
    @apply rounded-md border border-gray-300 px-2 py-1 text-sm text-calendar-text;
  }

  .settings-form-input-year {
    @apply w-24;
  }

  .settings-form-input-month {
    @apply w-16;
  }

  .settings-form-help {
    @apply mt-1 text-xs text-calendar-text;
  }

  .settings-form-actions {
    @apply flex justify-end space-x-2;
  }

  .settings-form-button {
    @apply rounded-md px-3 py-1 text-sm transition-colors duration-200;
  }

  .settings-form-button-cancel {
    @apply border border-gray-300 text-calendar-text hover:bg-gray-50;
  }

  .settings-form-button-save {
    @apply bg-blue-500 text-white hover:bg-blue-600;
  }
}
